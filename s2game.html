<!DOCTYPE html>
<html>
  <head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4052858639133443"
     crossorigin="anonymous"></script>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&display=swap" rel="stylesheet">
    <title>FastMafs - Digits of Ï€</title>
  </head>
  <body>
    <div id="digitsofpi">
      <div id="scoreboardtimer1">
          <h3 id="pitimer">Clock: 00:00:00</h3>
      </div>
      <div id="scoreboard2">
        <h3 id="piscore">Score: 0</h3>
      </div>
      <div id="sqrtgame">
        <span class="pidigit" id="first"></span>
        <span class="pidigit" id="second"></span>
        <span class="pidigit" id="third">1</span>
        <span class="pidigit" id="fourth">.</span>
        <span class="pidigit" id="fifth"><input type="text" id="thirdtext" oninput="myFunction()"></span>
      </div>
      <div id="endgame2">
        <a href="javascript:window.location.href=window.location.href"><button class="reset">Reset</button></a>
        <a href="mem.html"><button class="memoryback">Memory Page</button></a>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript">
      $("#thirdtext").focus();
      var s2 = sessionStorage.getItem("sq2");
      s2 = s2.replace(/\s/g, "");
      const timer = document.getElementById("pitimer");
      var hr = 0;
      var min = 0;
      var sec = -1;
      var stoptime = true;

      function startTimer() {
        if (stoptime == true) {
          stoptime = false;
          timerCycle();
        }
      }
      function stopTimer() {
        if (stoptime == false) {
          stoptime = true;
        }
      }

      function timerCycle() {
        if (stoptime == false) {
          sec = parseInt(sec);
          min = parseInt(min);
          hr = parseInt(hr);

          sec = sec + 1;

          if (sec == 60) {
            min = min + 1;
            sec = 0;
          }
          if (min == 60) {
            hr = hr + 1;
            min = 0;
            sec = 0;
          }

          if (sec < 10 || sec == 0) {
            sec = '0' + sec;
          }
          if (min < 10 || min == 0) {
            min = '0' + min;
          }
          if (hr < 10 || hr == 0) {
          hr = '0' + hr;
        }

        timer.innerHTML = "Clock: " + hr + ':' + min + ':' + sec;

        setTimeout("timerCycle()", 1000);
      }
      }
      function resetTimer() {
      timer.innerHTML = '00:00:00';
      }
      startTimer();
      var score = 0;
      var inds = 0;
      function myFunction(){

        if ($("#thirdtext").val().trim() == s2.substring(inds, inds+1)){
          score++;
          $("#piscore").text("Score: " + score);
          inds++;
          $("#thirdtext").val("");
          if (score == 1){
            $("#second").text("1");
            $("#third").text(".");
            $("#fourth").text("4");
          }
          else if (score == 2){
            $("#first").text("1");
            $("#second").text(".");
            $("#third").text("4");
            $("#fourth").text("1");
          }
          else if (score == 3){
            $("#first").text(".");
            $("#second").text("4");
            $("#third").text("1");
            $("#fourth").text("4");
          }
          else {
            $("#first").text(s2.substring(inds-4, inds-3));
            $("#second").text(s2.substring(inds-3, inds-2));
            $("#third").text(s2.substring(inds-2, inds-1));
            $("#fourth").text(s2.substring(inds-1, inds));
          }
        }
        else {
            $("#fifth").text(s2.substring(inds, inds+1));
            if (score == 0 || score == 1){
              $("#piscore").text(score + " digit");
            }
            else{
                $("#piscore").text(score + " digits");
            }
            stopTimer();
            $("#pitimer").text($("#pitimer").text() + " elapsed");
        }
      }

    </script>
  </body>
</html>
